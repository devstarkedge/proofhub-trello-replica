@import url('./theme/tokens.css');
@import "tailwindcss";

/* ============================================
   GLOBAL THEME BASE STYLES
   ============================================ */

/* Apply theme background to root elements */
html {
  background-color: var(--color-bg-base);
  color: var(--color-text-primary);
  color-scheme: light;
}

html[data-theme="dark"] {
  color-scheme: dark;
}

body {
  background-color: var(--color-bg-base);
  color: var(--color-text-primary);
  transition: background-color var(--motion-duration-normal) var(--motion-easing),
    color var(--motion-duration-fast) var(--motion-easing);
}

/* Theme-aware scrollbar styles */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--color-scrollbar-thumb) var(--color-scrollbar-track);
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: var(--color-scrollbar-thumb);
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: var(--color-scrollbar-thumb-hover);
}

/* Global selection styling */
::selection {
  background-color: var(--color-primary-subtle);
  color: var(--color-text-primary);
}

/* Focus ring styling */
:focus-visible {
  outline: 2px solid var(--color-border-focus);
  outline-offset: 2px;
}

/* Placeholder text */
::placeholder {
  color: var(--color-text-placeholder);
}

/* HR styling */
hr {
  border-color: var(--color-border-default);
}

/* ============================================
   GLOBAL DARK MODE OVERRIDES
   These override common Tailwind classes to apply
   dark mode styling application-wide automatically
   ============================================ */

/* === BACKGROUND OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .bg-white {
  background-color: var(--color-bg-base) !important;
}

:root[data-theme="dark"] .bg-gray-50 {
  background-color: var(--color-bg-subtle) !important;
}

:root[data-theme="dark"] .bg-gray-100 {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .bg-gray-200 {
  background-color: var(--color-bg-emphasis) !important;
}

/* Gradient backgrounds */
:root[data-theme="dark"] .from-gray-50,
:root[data-theme="dark"] .from-gray-100 {
  --tw-gradient-from: var(--color-bg-subtle) !important;
}

:root[data-theme="dark"] .to-gray-50,
:root[data-theme="dark"] .to-gray-100 {
  --tw-gradient-to: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .via-gray-50 {
  --tw-gradient-via: var(--color-bg-subtle) !important;
}

:root[data-theme="dark"] .from-blue-50,
:root[data-theme="dark"] .from-indigo-50,
:root[data-theme="dark"] .from-purple-50 {
  --tw-gradient-from: var(--color-primary-subtle) !important;
}

:root[data-theme="dark"] .to-blue-50,
:root[data-theme="dark"] .to-indigo-50,
:root[data-theme="dark"] .to-purple-50 {
  --tw-gradient-to: var(--color-primary-subtle) !important;
}

/* Hero/banner gradients */
:root[data-theme="dark"] .from-blue-600,
:root[data-theme="dark"] .from-indigo-600,
:root[data-theme="dark"] .from-purple-600 {
  --tw-gradient-from: var(--color-primary-800) !important;
}

:root[data-theme="dark"] .via-indigo-600,
:root[data-theme="dark"] .via-purple-600 {
  --tw-gradient-via: var(--color-primary-700) !important;
}

:root[data-theme="dark"] .to-purple-600,
:root[data-theme="dark"] .to-indigo-600 {
  --tw-gradient-to: var(--color-primary-900) !important;
}

/* === TEXT COLOR OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .text-gray-900 {
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] .text-gray-800 {
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] .text-gray-700 {
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] .text-gray-600 {
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] .text-gray-500 {
  color: var(--color-text-muted) !important;
}

:root[data-theme="dark"] .text-gray-400 {
  color: var(--color-text-placeholder) !important;
}

/* Primary colors */
:root[data-theme="dark"] .text-blue-600,
:root[data-theme="dark"] .text-blue-700 {
  color: var(--color-primary) !important;
}

:root[data-theme="dark"] .text-indigo-600,
:root[data-theme="dark"] .text-indigo-700 {
  color: var(--color-primary) !important;
}

:root[data-theme="dark"] .text-purple-600,
:root[data-theme="dark"] .text-purple-700 {
  color: var(--color-primary) !important;
}

/* === BORDER OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .border-gray-100 {
  border-color: var(--color-border-subtle) !important;
}

:root[data-theme="dark"] .border-gray-200 {
  border-color: var(--color-border-default) !important;
}

:root[data-theme="dark"] .border-gray-300 {
  border-color: var(--color-border-emphasis) !important;
}

:root[data-theme="dark"] .border-blue-200,
:root[data-theme="dark"] .border-indigo-200,
:root[data-theme="dark"] .border-purple-200 {
  border-color: var(--color-primary-700) !important;
}

/* Divide colors */
:root[data-theme="dark"] .divide-gray-100> :not([hidden])~ :not([hidden]),
:root[data-theme="dark"] .divide-gray-200> :not([hidden])~ :not([hidden]) {
  border-color: var(--color-border-default) !important;
}

/* === RING OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .ring-gray-100,
:root[data-theme="dark"] .ring-gray-200 {
  --tw-ring-color: var(--color-border-default) !important;
}

:root[data-theme="dark"] .ring-white {
  --tw-ring-color: var(--color-bg-base) !important;
}

/* === HOVER STATE OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .hover\:bg-gray-50:hover {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .hover\:bg-gray-100:hover {
  background-color: var(--color-bg-emphasis) !important;
}

:root[data-theme="dark"] .hover\:text-gray-900:hover {
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] .hover\:text-gray-700:hover {
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] .hover\:bg-blue-50:hover,
:root[data-theme="dark"] .hover\:bg-indigo-50:hover,
:root[data-theme="dark"] .hover\:bg-purple-50:hover {
  background-color: var(--color-primary-subtle-hover) !important;
}

:root[data-theme="dark"] .hover\:bg-red-50:hover {
  background-color: var(--color-error-subtle) !important;
}

:root[data-theme="dark"] .hover\:from-blue-100:hover,
:root[data-theme="dark"] .hover\:from-indigo-100:hover {
  --tw-gradient-from: var(--color-primary-subtle-hover) !important;
}

:root[data-theme="dark"] .hover\:to-blue-100:hover,
:root[data-theme="dark"] .hover\:to-indigo-100:hover {
  --tw-gradient-to: var(--color-primary-subtle-hover) !important;
}

/* === FOCUS STATE OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .focus\:ring-blue-500:focus {
  --tw-ring-color: var(--color-primary) !important;
}

:root[data-theme="dark"] .focus\:border-blue-500:focus,
:root[data-theme="dark"] .focus\:border-indigo-500:focus {
  border-color: var(--color-primary) !important;
}

/* === SEMANTIC COLOR BACKGROUNDS - Dark Mode === */
:root[data-theme="dark"] .bg-blue-50,
:root[data-theme="dark"] .bg-indigo-50 {
  background-color: var(--color-primary-subtle) !important;
}

:root[data-theme="dark"] .bg-blue-100,
:root[data-theme="dark"] .bg-indigo-100 {
  background-color: var(--color-primary-subtle-hover) !important;
}

:root[data-theme="dark"] .bg-green-50 {
  background-color: var(--color-success-subtle) !important;
}

:root[data-theme="dark"] .bg-red-50 {
  background-color: var(--color-error-subtle) !important;
}

:root[data-theme="dark"] .bg-amber-50,
:root[data-theme="dark"] .bg-yellow-50,
:root[data-theme="dark"] .bg-orange-50 {
  background-color: var(--color-warning-subtle) !important;
}

/* === SEMANTIC TEXT COLORS - Dark Mode === */
:root[data-theme="dark"] .text-green-600,
:root[data-theme="dark"] .text-green-700 {
  color: var(--color-success-text) !important;
}

:root[data-theme="dark"] .text-red-600,
:root[data-theme="dark"] .text-red-700 {
  color: var(--color-error-text) !important;
}

:root[data-theme="dark"] .text-amber-600,
:root[data-theme="dark"] .text-amber-700,
:root[data-theme="dark"] .text-orange-600,
:root[data-theme="dark"] .text-orange-700 {
  color: var(--color-warning-text) !important;
}

/* === SHADOW OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .shadow-sm {
  box-shadow: var(--shadow-sm) !important;
}

:root[data-theme="dark"] .shadow-md {
  box-shadow: var(--shadow-md) !important;
}

:root[data-theme="dark"] .shadow-lg {
  box-shadow: var(--shadow-lg) !important;
}

:root[data-theme="dark"] .shadow-xl {
  box-shadow: var(--shadow-xl) !important;
}

:root[data-theme="dark"] .shadow-2xl {
  box-shadow: var(--shadow-2xl) !important;
}

/* === SKELETON/LOADING OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .animate-pulse {
  opacity: 0.6;
}

/* === INPUT OVERRIDES - Dark Mode === */
:root[data-theme="dark"] input:not([type="checkbox"]):not([type="radio"]),
:root[data-theme="dark"] textarea,
:root[data-theme="dark"] select {
  background-color: var(--color-input-bg) !important;
  border-color: var(--color-input-border) !important;
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] input:focus,
:root[data-theme="dark"] textarea:focus,
:root[data-theme="dark"] select:focus {
  border-color: var(--color-input-border-focus) !important;
}

/* === CARD/PANEL OVERRIDES - Dark Mode === */
:root[data-theme="dark"] [class*="rounded"][class*="shadow"][class*="bg-white"],
:root[data-theme="dark"] [class*="rounded"][class*="border"][class*="bg-white"] {
  background-color: var(--color-card-bg) !important;
  border-color: var(--color-card-border) !important;
}

/* === MODAL/DROPDOWN OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .bg-black\/30,
:root[data-theme="dark"] .bg-black\/40,
:root[data-theme="dark"] .bg-black\/50 {
  background-color: var(--color-modal-overlay) !important;
}

/* === TABLE OVERRIDES - Dark Mode === */
:root[data-theme="dark"] table {
  border-color: var(--color-border-default);
}

:root[data-theme="dark"] th {
  background-color: var(--color-bg-muted) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-default) !important;
}

:root[data-theme="dark"] td {
  background-color: var(--color-bg-base) !important;
  color: var(--color-text-secondary) !important;
  border-color: var(--color-border-subtle) !important;
}

:root[data-theme="dark"] tr:hover td {
  background-color: var(--color-bg-subtle) !important;
}

/* === BUTTON PRIMARY OVERRIDES - Dark Mode === */
:root[data-theme="dark"] .bg-blue-600,
:root[data-theme="dark"] .bg-indigo-600 {
  background-color: var(--color-primary) !important;
}

:root[data-theme="dark"] .hover\:bg-blue-700:hover,
:root[data-theme="dark"] .hover\:bg-indigo-700:hover {
  background-color: var(--color-primary-hover) !important;
}

:root[data-theme="dark"] .hover\:from-blue-700:hover,
:root[data-theme="dark"] .hover\:from-indigo-700:hover {
  --tw-gradient-from: var(--color-primary-hover) !important;
}

:root[data-theme="dark"] .hover\:to-indigo-700:hover {
  --tw-gradient-to: var(--color-primary-active) !important;
}

/* === PLACEHOLDER TEXT - Dark Mode === */
:root[data-theme="dark"] .placeholder-gray-400::placeholder,
:root[data-theme="dark"] .placeholder-gray-500::placeholder {
  color: var(--color-text-placeholder) !important;
}

/* === BACKDROP BLUR - Dark Mode adjustments === */
:root[data-theme="dark"] .backdrop-blur-sm,
:root[data-theme="dark"] .backdrop-blur-md,
:root[data-theme="dark"] .backdrop-blur-lg {
  --tw-backdrop-blur: blur(12px);
}

/* === SPECIAL: White backgrounds with transparency === */
:root[data-theme="dark"] .bg-white\/90,
:root[data-theme="dark"] .bg-white\/95 {
  background-color: rgba(31, 41, 55, 0.95) !important;
}

:root[data-theme="dark"] .bg-white\/80 {
  background-color: rgba(31, 41, 55, 0.8) !important;
}

:root[data-theme="dark"] .bg-white\/50 {
  background-color: rgba(31, 41, 55, 0.5) !important;
}

:root[data-theme="dark"] .bg-white\/20,
:root[data-theme="dark"] .bg-white\/10 {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* === ACCENT COLOR ADJUSTMENTS === */
:root[data-theme="dark"] .bg-purple-50 {
  background-color: rgba(168, 85, 247, 0.15) !important;
}

:root[data-theme="dark"] .bg-pink-50 {
  background-color: rgba(236, 72, 153, 0.15) !important;
}

:root[data-theme="dark"] .from-purple-50,
:root[data-theme="dark"] .to-pink-50 {
  --tw-gradient-from: rgba(168, 85, 247, 0.15) !important;
  --tw-gradient-to: rgba(236, 72, 153, 0.15) !important;
}

:root[data-theme="dark"] .hover\:from-purple-100:hover,
:root[data-theme="dark"] .hover\:to-pink-100:hover {
  --tw-gradient-from: rgba(168, 85, 247, 0.25) !important;
  --tw-gradient-to: rgba(236, 72, 153, 0.25) !important;
}

:root[data-theme="dark"] .text-purple-600 {
  color: #c084fc !important;
}

:root[data-theme="dark"] .border-purple-200 {
  border-color: rgba(168, 85, 247, 0.4) !important;
}

/* === GRADIENT HERO SECTION === */
:root[data-theme="dark"] .bg-gradient-to-r.from-blue-600.via-indigo-600.to-purple-600 {
  background: linear-gradient(to right, #1e40af, #3730a3, #5b21b6) !important;
}

:root[data-theme="dark"] .bg-gradient-to-br.from-gray-50.via-blue-50.to-indigo-50 {
  background: linear-gradient(to bottom right, var(--color-bg-base), var(--color-bg-subtle), var(--color-bg-base)) !important;
}

/* === ADDITIONAL DARK MODE OVERRIDES === */

/* Header navigation pill backgrounds */
:root[data-theme="dark"] nav.bg-gray-100 {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] nav .bg-white {
  background-color: var(--color-bg-emphasis) !important;
}

/* Gray solid backgrounds (common in headers/controls) */
:root[data-theme="dark"] .bg-gray-300 {
  background-color: var(--color-bg-emphasis) !important;
}

:root[data-theme="dark"] .bg-gray-400 {
  background-color: #4b5563 !important;
}

:root[data-theme="dark"] .bg-gray-500 {
  background-color: #6b7280 !important;
}

/* Status badges and solid color fills */
:root[data-theme="dark"] .bg-green-100 {
  background-color: var(--color-success-subtle) !important;
}

:root[data-theme="dark"] .bg-red-100 {
  background-color: var(--color-error-subtle) !important;
}

:root[data-theme="dark"] .bg-yellow-100,
:root[data-theme="dark"] .bg-amber-100,
:root[data-theme="dark"] .bg-orange-100 {
  background-color: var(--color-warning-subtle) !important;
}

:root[data-theme="dark"] .bg-blue-100,
:root[data-theme="dark"] .bg-indigo-100,
:root[data-theme="dark"] .bg-purple-100 {
  background-color: var(--color-primary-subtle-hover) !important;
}

:root[data-theme="dark"] .bg-pink-100 {
  background-color: rgba(236, 72, 153, 0.25) !important;
}

:root[data-theme="dark"] .bg-cyan-100,
:root[data-theme="dark"] .bg-teal-100 {
  background-color: rgba(6, 182, 212, 0.2) !important;
}

/* Status text colors for badges */
:root[data-theme="dark"] .text-green-800 {
  color: var(--color-success-text) !important;
}

:root[data-theme="dark"] .text-red-800 {
  color: var(--color-error-text) !important;
}

:root[data-theme="dark"] .text-yellow-800,
:root[data-theme="dark"] .text-amber-800,
:root[data-theme="dark"] .text-orange-800 {
  color: var(--color-warning-text) !important;
}

:root[data-theme="dark"] .text-blue-800,
:root[data-theme="dark"] .text-indigo-800,
:root[data-theme="dark"] .text-purple-800 {
  color: #93c5fd !important;
}

/* View All Projects type gradient buttons */
:root[data-theme="dark"] .bg-gradient-to-r.from-gray-50.to-blue-50,
:root[data-theme="dark"] .bg-gradient-to-r.from-gray-50.to-indigo-50 {
  background: linear-gradient(to right, var(--color-bg-muted), var(--color-primary-subtle)) !important;
}

/* Button backgrounds */
:root[data-theme="dark"] .hover\:bg-white:hover {
  background-color: var(--color-bg-emphasis) !important;
}

:root[data-theme="dark"] .focus\:bg-white:focus {
  background-color: var(--color-bg-emphasis) !important;
}

/* Active/selected states */
:root[data-theme="dark"] .active\:bg-gray-50:active {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .active\:bg-gray-100:active {
  background-color: var(--color-bg-emphasis) !important;
}

/* Hover border colors */
:root[data-theme="dark"] .hover\:border-gray-300:hover {
  border-color: var(--color-border-emphasis) !important;
}

:root[data-theme="dark"] .hover\:border-gray-400:hover {
  border-color: #6b7280 !important;
}

/* Secondary action buttons with light backgrounds */
:root[data-theme="dark"] .bg-slate-100 {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .bg-zinc-100 {
  background-color: var(--color-bg-muted) !important;
}

/* Navigation active state for workflow tabs */
:root[data-theme="dark"] button.bg-white.text-blue-600 {
  background-color: var(--color-bg-emphasis) !important;
  color: var(--color-primary) !important;
}

/* Dropdown and popup backgrounds */
:root[data-theme="dark"] [role="menu"],
:root[data-theme="dark"] [role="listbox"],
:root[data-theme="dark"] [role="dialog"] {
  background-color: var(--color-bg-base) !important;
  border-color: var(--color-border-default) !important;
}

/* Dropdown menu items */
:root[data-theme="dark"] [role="menuitem"]:hover,
:root[data-theme="dark"] [role="option"]:hover {
  background-color: var(--color-bg-muted) !important;
}

/* Avatar ring adjustments */
:root[data-theme="dark"] .ring-white\/50 {
  --tw-ring-color: rgba(55, 65, 81, 0.5) !important;
}

/* Loading overlay backgrounds */
:root[data-theme="dark"] .bg-white.bg-opacity-50,
:root[data-theme="dark"] .bg-white\/60 {
  background-color: rgba(31, 41, 55, 0.6) !important;
}

/* Tooltip backgrounds */
:root[data-theme="dark"] [role="tooltip"] {
  background-color: var(--color-bg-emphasis) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-default) !important;
}

/* Time/date inputs */
:root[data-theme="dark"] input[type="date"],
:root[data-theme="dark"] input[type="time"],
:root[data-theme="dark"] input[type="datetime-local"] {
  color-scheme: dark;
}

/* Checkboxes and radio buttons */
/* Force white background in light mode to prevent dark system default leaks */
:root:not([data-theme="dark"]) input[type="checkbox"],
:root:not([data-theme="dark"]) input[type="radio"] {
  background-color: #ffffff;
  border-color: #d1d5db;
  accent-color: #2563eb;
}

:root[data-theme="dark"] input[type="checkbox"],
:root[data-theme="dark"] input[type="radio"] {
  background-color: #374151 !important;
  border-color: #6b7280 !important;
  accent-color: #3b82f6 !important;
  color-scheme: dark;
}

:root[data-theme="dark"] input[type="checkbox"]:checked,
:root[data-theme="dark"] input[type="radio"]:checked {
  background-color: #2563eb !important;
  border-color: #2563eb !important;
}

/* Ensure checkbox hover states work in dark mode */
:root[data-theme="dark"] input[type="checkbox"]:hover,
:root[data-theme="dark"] input[type="radio"]:hover {
  border-color: #9ca3af !important;
}

:root[data-theme="dark"] input[type="checkbox"]:focus,
:root[data-theme="dark"] input[type="radio"]:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
}

/* Disabled states */
:root[data-theme="dark"] .disabled\:bg-gray-100:disabled {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .disabled\:text-gray-400:disabled {
  color: var(--color-text-muted) !important;
}

/* Icon containers */
:root[data-theme="dark"] .rounded-full.bg-gray-50,
:root[data-theme="dark"] .rounded-full.bg-gray-100 {
  background-color: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .rounded-full.bg-blue-50,
:root[data-theme="dark"] .rounded-full.bg-indigo-50 {
  background-color: var(--color-primary-subtle) !important;
}

/* Rich text editor backgrounds */
:root[data-theme="dark"] .prose {
  color: var(--color-text-primary);
}

:root[data-theme="dark"] .prose-headings {
  color: var(--color-text-primary);
}

/* Charts and data visualization containers */
:root[data-theme="dark"] .recharts-wrapper,
:root[data-theme="dark"] .recharts-surface {
  background-color: transparent !important;
}

:root[data-theme="dark"] .recharts-cartesian-grid line,
:root[data-theme="dark"] .recharts-cartesian-axis line {
  stroke: var(--color-border-default) !important;
}

:root[data-theme="dark"] .recharts-text {
  fill: var(--color-text-muted) !important;
}

/* ============================================
   NOTIFICATION PANEL STYLES
   ============================================ */

/* Notification scroll container */
.notification-scroll {
  scrollbar-width: thin;
  scrollbar-color: rgba(99, 102, 241, 0.3) transparent;
}

.notification-scroll::-webkit-scrollbar {
  width: 6px;
}

.notification-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.notification-scroll::-webkit-scrollbar-thumb {
  background: rgba(99, 102, 241, 0.3);
  border-radius: 3px;
}

.notification-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(99, 102, 241, 0.5);
}

/* Notification panel base styles */
.notification-panel {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 12px 24px -8px rgba(0, 0, 0, 0.1);
}

/* Dark mode notification panel */
:root[data-theme="dark"] .notification-panel {
  background-color: var(--color-bg-base) !important;
  border-color: var(--color-border-default) !important;
}

/* Dark mode notification header gradient - keep it vibrant */
:root[data-theme="dark"] .notification-panel .bg-gradient-to-r.from-indigo-500.via-purple-500.to-pink-500 {
  background: linear-gradient(to right, #4f46e5, #7c3aed, #db2777) !important;
}

/* Dark mode notification items */
:root[data-theme="dark"] .notification-panel .bg-gradient-to-r.from-blue-50\/80.to-indigo-50\/50 {
  background: linear-gradient(to right, rgba(59, 130, 246, 0.15), rgba(99, 102, 241, 0.1)) !important;
}

:root[data-theme="dark"] .notification-panel .hover\:bg-gray-50:hover {
  background-color: var(--color-bg-subtle) !important;
}

/* Dark mode time group headers */
:root[data-theme="dark"] .notification-panel .bg-gray-50.border-b {
  background-color: var(--color-bg-muted) !important;
  border-color: var(--color-border-subtle) !important;
}

/* Dark mode action buttons in notifications */
:root[data-theme="dark"] .notification-panel .bg-blue-100 {
  background-color: rgba(59, 130, 246, 0.2) !important;
}

:root[data-theme="dark"] .notification-panel .bg-blue-100:hover,
:root[data-theme="dark"] .notification-panel .hover\:bg-blue-200:hover {
  background-color: rgba(59, 130, 246, 0.3) !important;
}

:root[data-theme="dark"] .notification-panel .bg-red-100 {
  background-color: rgba(239, 68, 68, 0.2) !important;
}

:root[data-theme="dark"] .notification-panel .bg-red-100:hover,
:root[data-theme="dark"] .notification-panel .hover\:bg-red-200:hover {
  background-color: rgba(239, 68, 68, 0.3) !important;
}

/* Dark mode footer */
:root[data-theme="dark"] .notification-panel .bg-gradient-to-r.from-gray-50.to-white {
  background: var(--color-bg-muted) !important;
}

:root[data-theme="dark"] .notification-panel .border-gray-100 {
  border-color: var(--color-border-subtle) !important;
}

:root[data-theme="dark"] .notification-panel .border-gray-50 {
  border-color: var(--color-border-subtle) !important;
}

/* Dark mode empty state */
:root[data-theme="dark"] .notification-panel .bg-gradient-to-br.from-gray-100.to-gray-200 {
  background: linear-gradient(to bottom right, var(--color-bg-muted), var(--color-bg-emphasis)) !important;
}

/* Workflow page - Add List button and similar buttons with purple/indigo text */
:root[data-theme="dark"] .text-purple-900 {
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] .text-indigo-900 {
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] .text-blue-900 {
  color: var(--color-text-primary) !important;
}

/* Buttons with bg-white and dark text - make them dark with light text */
:root[data-theme="dark"] button.bg-white.text-purple-900,
:root[data-theme="dark"] button.bg-white.text-indigo-900,
:root[data-theme="dark"] button.bg-white.text-blue-900 {
  background-color: var(--color-primary) !important;
  color: white !important;
}

:root[data-theme="dark"] button.bg-white.text-purple-900:hover,
:root[data-theme="dark"] button.bg-white.text-indigo-900:hover,
:root[data-theme="dark"] button.bg-white.text-blue-900:hover {
  background-color: var(--color-primary-hover) !important;
}

/* ============================================
   CARD COMPONENT DARK MODE OVERRIDES
   ============================================ */

/* Card container - dark surface with subtle border */
:root[data-theme="dark"] .group\/card.bg-white,
:root[data-theme="dark"] [class*="group/card"].bg-white {
  background-color: var(--color-card-bg) !important;
  background-image: linear-gradient(to bottom right, var(--color-card-bg), var(--color-bg-muted)) !important;
  border-color: var(--color-card-border) !important;
}

/* Card gradient override */
:root[data-theme="dark"] .bg-gradient-to-br.from-white.to-gray-50\/50 {
  background: linear-gradient(to bottom right, var(--color-card-bg), var(--color-bg-muted)) !important;
}

/* Card title text */
:root[data-theme="dark"] .text-gray-800 {
  color: var(--color-text-primary) !important;
}

/* Card title hover state */
:root[data-theme="dark"] .group-hover\/card\:text-purple-700:hover,
:root[data-theme="dark"] [class*="group-hover/card:text-purple-700"] {
  color: var(--color-primary) !important;
}

/* Card meta text and subtask counters */
:root[data-theme="dark"] .text-gray-500 {
  color: var(--color-text-muted) !important;
}

/* Card footer border */
:root[data-theme="dark"] .border-gray-100\/60 {
  border-color: var(--color-border-subtle) !important;
}

/* Card hover shadow */
:root[data-theme="dark"] .hover\:shadow-md:hover {
  box-shadow: var(--shadow-md) !important;
}

/* Card hover border */
:root[data-theme="dark"] .hover\:border-gray-200:hover {
  border-color: var(--color-border-default) !important;
}

/* Date badge backgrounds */
:root[data-theme="dark"] .bg-gray-50.text-gray-500 {
  background-color: var(--color-bg-muted) !important;
  color: var(--color-text-muted) !important;
}

/* Assignee avatar extra count */
:root[data-theme="dark"] .ring-white.bg-gray-50 {
  background-color: var(--color-bg-emphasis) !important;
  --tw-ring-color: var(--color-bg-base) !important;
}

/* Floating action buttons on cards */
:root[data-theme="dark"] .bg-white\/90 {
  background-color: rgba(31, 41, 55, 0.95) !important;
}

:root[data-theme="dark"] .hover\:bg-red-50:hover {
  background-color: var(--color-error-subtle) !important;
}

:root[data-theme="dark"] .hover\:bg-green-50:hover {
  background-color: var(--color-success-subtle) !important;
}

/* Time logged badge */
:root[data-theme="dark"] .bg-green-50.text-green-600 {
  background-color: var(--color-success-subtle) !important;
  color: var(--color-success-text) !important;
}

:root[data-theme="dark"] .border-green-100 {
  border-color: rgba(34, 197, 94, 0.3) !important;
}

/* Archive countdown badge */
:root[data-theme="dark"] .bg-orange-50.text-orange-700 {
  background-color: var(--color-warning-subtle) !important;
  color: var(--color-warning-text) !important;
}

:root[data-theme="dark"] .border-orange-100 {
  border-color: rgba(249, 115, 22, 0.3) !important;
}

/* Label badges with semi-transparent backgrounds */
:root[data-theme="dark"] [class*="backdrop-blur-md"] {
  backdrop-filter: blur(8px) !important;
}

/* Card loading overlay */
:root[data-theme="dark"] .bg-white\/50.backdrop-blur-\[1px\] {
  background-color: rgba(31, 41, 55, 0.5) !important;
}

/* List column headers and add card buttons */
:root[data-theme="dark"] .flex.items-center.gap-2.text-gray-600 {
  color: var(--color-text-secondary) !important;
}

/* Purple ring on dragging */
:root[data-theme="dark"] .ring-purple-500\/20 {
  --tw-ring-color: rgba(168, 85, 247, 0.3) !important;
}

/* Card border transparency fix */
:root[data-theme="dark"] .border-gray-100\/50 {
  border-color: var(--color-border-subtle) !important;
}

/* ============================================
   RECURRING SETTINGS MODAL DARK MODE OVERRIDES
   ============================================ */

/* Modal header gradient - blue/indigo */
:root[data-theme="dark"] .bg-gradient-to-r.from-blue-50.to-indigo-50 {
  background: linear-gradient(to right, rgba(59, 130, 246, 0.15), rgba(99, 102, 241, 0.15)) !important;
}

/* Schedule summary section */
:root[data-theme="dark"] .bg-gradient-to-r.from-blue-50.to-indigo-50.border-blue-200 {
  background: linear-gradient(to right, rgba(59, 130, 246, 0.15), rgba(99, 102, 241, 0.15)) !important;
  border-color: rgba(59, 130, 246, 0.3) !important;
}

/* Daily options - orange/yellow gradient */
:root[data-theme="dark"] .bg-gradient-to-br.from-orange-50.to-yellow-50 {
  background: linear-gradient(to bottom right, rgba(249, 115, 22, 0.15), rgba(234, 179, 8, 0.15)) !important;
}

:root[data-theme="dark"] .border-orange-200 {
  border-color: rgba(249, 115, 22, 0.3) !important;
}

/* Weekly options - green/emerald gradient */
:root[data-theme="dark"] .bg-gradient-to-br.from-green-50.to-emerald-50 {
  background: linear-gradient(to bottom right, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.15)) !important;
}

:root[data-theme="dark"] .border-green-200 {
  border-color: rgba(34, 197, 94, 0.3) !important;
}

/* Monthly options - purple/indigo gradient */
:root[data-theme="dark"] .bg-gradient-to-br.from-purple-50.to-indigo-50 {
  background: linear-gradient(to bottom right, rgba(168, 85, 247, 0.15), rgba(99, 102, 241, 0.15)) !important;
}

:root[data-theme="dark"] .border-purple-200 {
  border-color: rgba(168, 85, 247, 0.3) !important;
}

/* Sub-sections - white/transparent overlays */
:root[data-theme="dark"] .bg-white\/70 {
  background-color: rgba(31, 41, 55, 0.7) !important;
}

:root[data-theme="dark"] .border-purple-100 {
  border-color: rgba(168, 85, 247, 0.25) !important;
}

/* Creation trigger - teal/green gradient (selected state) */
:root[data-theme="dark"] .bg-gradient-to-r.from-teal-50.to-green-50 {
  background: linear-gradient(to right, rgba(20, 184, 166, 0.15), rgba(34, 197, 94, 0.15)) !important;
}

:root[data-theme="dark"] .border-teal-500 {
  border-color: rgba(20, 184, 166, 0.5) !important;
}

/* End conditions - amber/orange gradient */
:root[data-theme="dark"] .bg-gradient-to-br.from-amber-50.to-orange-50 {
  background: linear-gradient(to bottom right, rgba(245, 158, 11, 0.15), rgba(249, 115, 22, 0.15)) !important;
}

:root[data-theme="dark"] .border-amber-200 {
  border-color: rgba(245, 158, 11, 0.3) !important;
}

/* Hover white overlay */
:root[data-theme="dark"] .hover\:bg-white\/50:hover {
  background-color: rgba(255, 255, 255, 0.08) !important;
}

/* Schedule type tabs (unselected) */
:root[data-theme="dark"] button.border-gray-200.text-gray-700.bg-white {
  background-color: var(--color-bg-muted) !important;
  border-color: var(--color-border-default) !important;
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] button.border-gray-200.text-gray-700.bg-white:hover {
  background-color: var(--color-bg-emphasis) !important;
}

/* Icon colors in schedule tabs */
:root[data-theme="dark"] .text-gray-500 {
  color: var(--color-text-muted) !important;
}

/* Text colors in modal */
:root[data-theme="dark"] .text-gray-700 {
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] .text-gray-600 {
  color: var(--color-text-secondary) !important;
}

/* Blue text */
:root[data-theme="dark"] .text-blue-700 {
  color: #93c5fd !important;
}

:root[data-theme="dark"] .text-blue-600 {
  color: #60a5fa !important;
}

/* Icon container */
:root[data-theme="dark"] .bg-blue-100 {
  background-color: rgba(59, 130, 246, 0.25) !important;
}

/* Input field borders */
:root[data-theme="dark"] .border-gray-200 {
  border-color: var(--color-border-default) !important;
}

:root[data-theme="dark"] .border-2.border-gray-200 {
  border-color: var(--color-border-default) !important;
}

/* Input hover borders */
:root[data-theme="dark"] .hover\:border-gray-300:hover {
  border-color: var(--color-border-emphasis) !important;
}

/* Day/Week toggle buttons (unselected) */
:root[data-theme="dark"] button.bg-white.border-2.border-gray-200.text-gray-700 {
  background-color: var(--color-bg-muted) !important;
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] button.bg-white.border.border-gray-300.text-gray-700 {
  background-color: var(--color-bg-muted) !important;
  color: var(--color-text-secondary) !important;
}

:root[data-theme="dark"] button.bg-white.border.border-gray-300.text-gray-700:hover {
  background-color: var(--color-bg-emphasis) !important;
}

/* Cancel button */
:root[data-theme="dark"] button.bg-gray-200 {
  background-color: var(--color-bg-emphasis) !important;
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] button.bg-gray-200:hover {
  background-color: var(--color-border-emphasis) !important;
}

/* bg-gray-50 sections (yearly, daysAfter, custom) */
:root[data-theme="dark"] .bg-gray-50.rounded-lg.p-4 {
  background-color: var(--color-bg-muted) !important;
}

/* Modal header text gradient correction - make lighter in dark mode */
:root[data-theme="dark"] .bg-clip-text.text-transparent.bg-gradient-to-r.from-blue-600.to-indigo-600 {
  background-image: linear-gradient(to right, #60a5fa, #818cf8) !important;
  /* blue-400 to indigo-400 */
}

/* Modal sticky footer - fix white/gradient background */
:root[data-theme="dark"] .sticky.bottom-0.bg-gradient-to-r.from-gray-50.to-white {
  background: var(--color-bg-base) !important;
  border-top-color: var(--color-border-default) !important;
}

/* Cancel button theming */
:root[data-theme="dark"] button.border-gray-300.text-gray-700 {
  border-color: var(--color-border-default) !important;
  color: var(--color-text-primary) !important;
}

:root[data-theme="dark"] button.border-gray-300.text-gray-700:hover {
  background-color: var(--color-bg-muted) !important;
  border-color: var(--color-border-emphasis) !important;
}

/* ============================================
   TIME TRACKING SECTION OVERRIDES
   ============================================ */

/* Main container gradient - dark mode */
:root[data-theme="dark"] .bg-gradient-to-br.from-indigo-50.via-purple-50.to-pink-50 {
  background: linear-gradient(to bottom right, rgba(79, 70, 229, 0.1), rgba(147, 51, 234, 0.1), rgba(236, 72, 153, 0.1)) !important;
  border-color: rgba(99, 102, 241, 0.2) !important;
}

/* Time tracking text colors */
:root[data-theme="dark"] .text-gray-800 {
  color: var(--color-text-primary) !important;
}

/* ============================================
   TASK LIST VIEW OVERRIDES
   ============================================ */

/* Page Background */
:root[data-theme="dark"] .bg-gradient-to-br.from-slate-50.via-blue-50.to-indigo-50 {
  background: var(--color-bg-base) !important;
  background-image: none !important;
}

/* Decorative blobs - lower opacity in dark mode */
:root[data-theme="dark"] .bg-blue-400\/10,
:root[data-theme="dark"] .bg-purple-400\/10,
:root[data-theme="dark"] .bg-indigo-400\/10 {
  background-color: rgba(255, 255, 255, 0.03) !important;
}

/* Filter Bar Container */
:root[data-theme="dark"] .bg-white\/80 {
  background-color: rgba(17, 24, 39, 0.8) !important;
  /* gray-900/80 */
  border-color: var(--color-border-default) !important;
}

/* Search Input */
:root[data-theme="dark"] .bg-white\/50 {
  background-color: rgba(31, 41, 55, 0.5) !important;
  /* gray-800/50 */
  border-color: var(--color-border-default) !important;
  color: var(--color-text-primary) !important;
}

/* Page Title Gradient */
:root[data-theme="dark"] .bg-gradient-to-r.from-gray-900.via-blue-900.to-purple-900 {
  --tw-gradient-from: #93c5fd !important;
  /* blue-300 */
  --tw-gradient-via: #a5b4fc !important;
  /* indigo-300 */
  --tw-gradient-to: #d8b4fe !important;
  /* purple-300 */
  background-image: linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-via), var(--tw-gradient-to)) !important;
  color: transparent !important;
  /* Ensure text remains transparent for bg-clip */
}

@keyframes fadeIn {

  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}


/* Shimmer animation for skeleton loaders */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer 1.5s ease-in-out infinite;
}

.skeleton-loader {
  background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite linear;
}

:root[data-theme="dark"] .skeleton-loader {
  background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
  background-size: 200% 100%;
}

/* Hide scrollbar utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Custom scrollbar styles */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(99, 102, 241, 0.3) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgba(99, 102, 241, 0.3);
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgba(99, 102, 241, 0.5);
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Glassmorphism backdrop filter support */
@supports (backdrop-filter: blur(12px)) {
  .glass-effect {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }
}

/* Calendar cell aspect ratio */
.aspect-square {
  aspect-ratio: 1 / 1;
}

/* Network Status Toast Animations */
@keyframes slideInFromRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes pulseGlow {

  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);
  }

  50% {
    box-shadow: 0 0 20px 10px rgba(251, 191, 36, 0);
  }
}

.network-toast-enter {
  animation: slideInFromRight 0.3s ease-out forwards;
}

.network-toast-warning {
  animation: pulseGlow 2s infinite;
}

/* Neon Spark Text Effects - Enhanced CSS Version */
@keyframes neonPulse {

  0%,
  100% {
    text-shadow: 0 0 5px rgba(248, 47, 164, 0.7),
      0 0 10px rgba(168, 22, 112, 0.5),
      0 0 15px rgba(230, 16, 183, 0.3);
  }

  50% {
    text-shadow: 0 0 10px rgba(214, 62, 245, 0.9),
      0 0 20px rgba(211, 35, 196, 0.7),
      0 0 30px rgba(158, 19, 151, 0.5),
      0 0 40px rgba(187, 11, 119, 0.3);
  }
}

@keyframes shineMove {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

@keyframes sparkleTwinkle {

  0%,
  100% {
    opacity: 0.3;
    transform: scale(0.8) translateY(0);
  }

  50% {
    opacity: 1;
    transform: scale(1.2) translateY(-5px);
  }
}

@keyframes movingShine {
  0% {
    left: -100%;
  }

  100% {
    left: 100%;
  }
}

/* Main container */
.neon-spark-text-container {
  position: relative;
  display: inline-block;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
}

/* Main text with gradient */
.neon-text-main {
  background: linear-gradient(90deg, #ffcc80, #ff9800, #ff5722);
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 5px rgba(255, 152, 0, 0.5);
  animation: neonPulse 3s ease-in-out infinite alternate, shineMove 5s linear infinite;
  position: relative;
  z-index: 2;
}

/* Sparkle elements */
.neon-sparkle {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  z-index: 3;
  pointer-events: none;
  filter: blur(1px);
}

/* Glow effect */
.neon-glow-effect {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 152, 0, 0.15) 0%, rgba(255, 152, 0, 0) 70%);
  z-index: 1;
  pointer-events: none;
  animation: neonPulse 3s ease-in-out infinite alternate;
  filter: blur(8px);
  opacity: 0.8;
}

/* Fallback style */
.neon-spark-text-fallback {
  background: linear-gradient(90deg, #ffcc80, #ff9800, #ff5722);
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 5px rgba(255, 152, 0, 0.5);
  animation: neonPulse 3s ease-in-out infinite alternate;
}

/* Moving shine overlay */
.neon-shine-overlay {
  /* Disabled the moving white shine overlay to remove the horizontal white band across the name */
  display: none;
}

/* Description collapsed state - very small image previews */
.description-collapsed img {
  max-width: 50px !important;
  max-height: 35px !important;
  width: auto !important;
  height: auto !important;
  object-fit: cover !important;
  display: inline-block !important;
  vertical-align: middle !important;
  border-radius: 4px !important;
  margin: 0 4px !important;
}

/* Hand wave / shake animation */
@keyframes handWave {
  0% {
    transform: rotate(0deg);
  }

  15% {
    transform: rotate(14deg);
  }

  30% {
    transform: rotate(-8deg);
  }

  45% {
    transform: rotate(14deg);
  }

  60% {
    transform: rotate(-4deg);
  }

  75% {
    transform: rotate(10deg);
  }

  100% {
    transform: rotate(0deg);
  }
}

.hand-emoji {
  display: inline-block;
  transform-origin: 70% 70%;
  cursor: default;
  will-change: transform;
  font-size: 3rem;
  /* larger hand emoji */
  line-height: 1;
  /* keep emoji centered with text */
  margin-left: 0.25rem;
}

.hand-shake {
  animation-name: handWave;
  animation-timing-function: ease-in-out;
  animation-iteration-count: 1;
}

/* Utility classes to set animation duration quickly */
.hand-shake-duration-3000 {
  animation-duration: 3s;
}

.hand-shake-duration-5000 {
  animation-duration: 5s;
}

/* ============================================
   COMMENT SYSTEM STYLES
   ============================================ */

/* Comment highlight animation for deep linking */
@keyframes commentHighlight {
  0% {
    background-color: rgba(99, 102, 241, 0.3);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
  }

  50% {
    background-color: rgba(99, 102, 241, 0.2);
    box-shadow: 0 0 15px rgba(99, 102, 241, 0.3);
  }

  100% {
    background-color: transparent;
    box-shadow: none;
  }
}

.comment-highlighted {
  animation: commentHighlight 3s ease-out forwards;
  border-radius: 12px;
}

/* Mention styling */
.mention {
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: color 0.15s ease;
}

.mention[data-type="user"] {
  color: #2563eb;
  /* blue-600 */
}

.mention[data-type="user"]:hover {
  color: #1d4ed8;
  /* blue-700 */
}

.mention[data-type="role"] {
  color: #9333ea;
  /* purple-600 */
}

.mention[data-type="role"]:hover {
  color: #7c3aed;
  /* purple-700 */
}

.mention[data-type="team"] {
  color: #0d9488;
  /* teal-600 */
}

.mention[data-type="team"]:hover {
  color: #0f766e;
  /* teal-700 */
}

/* Dark mode mention styles */
:root[data-theme="dark"] .mention[data-type="user"] {
  color: #60a5fa;
  /* blue-400 */
}

:root[data-theme="dark"] .mention[data-type="user"]:hover {
  color: #93c5fd;
  /* blue-300 */
}

:root[data-theme="dark"] .mention[data-type="role"] {
  color: #c084fc;
  /* purple-400 */
}

:root[data-theme="dark"] .mention[data-type="role"]:hover {
  color: #d8b4fe;
  /* purple-300 */
}

:root[data-theme="dark"] .mention[data-type="team"] {
  color: #2dd4bf;
  /* teal-400 */
}

:root[data-theme="dark"] .mention[data-type="team"]:hover {
  color: #5eead4;
  /* teal-300 */
}

/* Bubble comment style */
.comment-bubble {
  position: relative;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 16px 16px 16px 4px;
  padding: 12px 16px;
  border: 1px solid #e2e8f0;
  transition: all 0.2s ease;
}

.comment-bubble:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

:root[data-theme="dark"] .comment-bubble {
  background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(51, 65, 85, 0.6) 100%);
  border-color: #334155;
}

/* Reaction bar hover effect */
.reaction-bar button:hover {
  transform: scale(1.05);
}

/* Comment skeleton shimmer */
@keyframes skeleton-shimmer {
  0% {
    background-position: -200px 0;
  }

  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.comment-skeleton {
  background: linear-gradient(90deg,
      #f0f0f0 0px,
      #e0e0e0 40px,
      #f0f0f0 80px);
  background-size: 200px 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

:root[data-theme="dark"] .comment-skeleton {
  background: linear-gradient(90deg,
      #374151 0px,
      #4b5563 40px,
      #374151 80px);
  background-size: 200px 100%;
}

/* Edit history viewer prose styles */
.edit-history-prose {
  font-size: 0.875rem;
  line-height: 1.6;
}

.edit-history-prose p {
  margin-bottom: 0.5rem;
}

.edit-history-prose img {
  max-width: 100%;
  border-radius: 8px;
  margin: 0.5rem 0;
}

/* Threaded reply connector line */
.reply-connector {
  position: relative;
}

.reply-connector::before {
  content: '';
  position: absolute;
  left: -16px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, #cbd5e1, #e2e8f0);
}

:root[data-theme="dark"] .reply-connector::before {
  background: linear-gradient(to bottom, #475569, #334155);
}

/* Reaction popover animation */
@keyframes reaction-pop {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }

  50% {
    transform: scale(1.1);
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.reaction-add-animation {
  animation: reaction-pop 0.3s ease-out;
}

/* Comment attachment preview styles */
.comment-attachment-preview {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 8px;
  margin-top: 8px;
}

.comment-attachment-thumb {
  aspect-ratio: 1;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.comment-attachment-thumb:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* ============================================
   AUTOFILL OVERRIDES
   Fixes the issue where browser autofill changes 
   input background to white, breaking the design
   ============================================ */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-background-clip: text;
  -webkit-text-fill-color: #ffffff !important;
  transition: background-color 5000s ease-in-out 0s;
  box-shadow: inset 0 0 20px 20px transparent !important;
}

/* Ensure placeholder text is visible */
input:-webkit-autofill::first-line {
  font-family: inherit;
  font-size: inherit;
}

/* ============================================
   GLOBAL FALLBACK / COMING SOON PAGE DARK MODE
   Premium styling for fallback pages in dark mode
   ============================================ */

/* Main page background: Premium dark gradient */
:root[data-theme="dark"] .global-fallback-page {
  background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0c1220 100%) !important;
}

/* Fallback for .bg-slate-50 on the main container */
:root[data-theme="dark"] .bg-slate-50 {
  background-color: transparent !important;
  background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0c1220 100%) !important;
}

/* Animated background blobs - enhanced glow in dark mode */
:root[data-theme="dark"] .mix-blend-multiply {
  mix-blend-mode: screen !important;
  opacity: 0.15 !important;
}

/* Card container: Glassmorphism dark effect */
:root[data-theme="dark"] .backdrop-blur-xl.bg-white\/70 {
  background: rgba(15, 23, 42, 0.85) !important;
  border-color: rgba(148, 163, 184, 0.15) !important;
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(148, 163, 184, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
}

/* Decorative shine effect on card */
:root[data-theme="dark"] .bg-gradient-to-r.from-transparent.via-white\/80.to-transparent {
  background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent) !important;
}

/* Border on card with transparency */
:root[data-theme="dark"] .border-white\/50 {
  border-color: rgba(148, 163, 184, 0.2) !important;
}

/* Icon container backgrounds */
:root[data-theme="dark"] .bg-violet-50 {
  background-color: rgba(139, 92, 246, 0.2) !important;
}

:root[data-theme="dark"] .bg-amber-50 {
  background-color: rgba(251, 191, 36, 0.15) !important;
}

/* Icon colors - brighter for dark mode */
:root[data-theme="dark"] .text-violet-600 {
  color: #a78bfa !important;
  /* violet-400 */
}

:root[data-theme="dark"] .text-amber-500 {
  color: #fbbf24 !important;
  /* amber-400 */
}

:root[data-theme="dark"] .text-red-500 {
  color: #f87171 !important;
  /* red-400 */
}

/* Pulsing ring around icon */
:root[data-theme="dark"] .animate-ping.border-2 {
  opacity: 0.15 !important;
}

/* Title text - Premium gradient for dark mode */
:root[data-theme="dark"] .text-slate-800 {
  color: #f1f5f9 !important;
  /* slate-100 */
}

:root[data-theme="dark"] .bg-clip-text.text-transparent.bg-gradient-to-r.from-slate-800.to-slate-600 {
  background-image: linear-gradient(to right, #f1f5f9, #cbd5e1) !important;
  /* slate-100 to slate-300 */
}

/* Description text */
:root[data-theme="dark"] .text-slate-600 {
  color: #94a3b8 !important;
  /* slate-400 */
}

/* Subtext */
:root[data-theme="dark"] .text-slate-500 {
  color: #64748b !important;
  /* slate-500 - slightly muted */
}

/* Email notification form container */
:root[data-theme="dark"] .bg-white.rounded-full.shadow-lg.border.border-slate-100 {
  background-color: rgba(30, 41, 59, 0.9) !important;
  /* slate-800/90 */
  border-color: rgba(71, 85, 105, 0.4) !important;
  /* slate-600/40 */
  box-shadow:
    0 10px 25px -5px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
}

/* Focus ring on form */
:root[data-theme="dark"] .focus-within\:ring-2.focus-within\:ring-violet-200 {
  --tw-ring-color: rgba(139, 92, 246, 0.3) !important;
}

/* Bell icon in form */
:root[data-theme="dark"] .text-slate-400 {
  color: #64748b !important;
}

/* Email input styling */
:root[data-theme="dark"] input.bg-transparent.text-slate-700 {
  color: #e2e8f0 !important;
  /* slate-200 */
}

:root[data-theme="dark"] input.bg-transparent::placeholder {
  color: #64748b !important;
  /* slate-500 */
}

/* Notify button */
:root[data-theme="dark"] .bg-slate-900.text-white {
  background: linear-gradient(135deg, #6366f1, #8b5cf6) !important;
  box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4) !important;
}

:root[data-theme="dark"] .bg-slate-900:hover {
  background: linear-gradient(135deg, #818cf8, #a78bfa) !important;
}

/* Success notification badge */
:root[data-theme="dark"] .bg-green-50.text-green-600.border-green-100 {
  background-color: rgba(34, 197, 94, 0.15) !important;
  color: #4ade80 !important;
  /* green-400 */
  border-color: rgba(34, 197, 94, 0.3) !important;
}

/* Error trace container */
:root[data-theme="dark"] .bg-red-50\/80.border-red-100.text-red-600 {
  background-color: rgba(239, 68, 68, 0.1) !important;
  border-color: rgba(239, 68, 68, 0.3) !important;
  color: #fca5a5 !important;
  /* red-300 */
}

/* Go Back button */
:root[data-theme="dark"] button.text-slate-600:hover {
  background-color: rgba(51, 65, 85, 0.5) !important;
  /* slate-700/50 */
}

:root[data-theme="dark"] button.text-slate-600 {
  color: #94a3b8 !important;
}

/* Hover overlay inside gradient buttons */
:root[data-theme="dark"] .absolute.inset-0.bg-white\/20 {
  background-color: rgba(255, 255, 255, 0.15) !important;
}

/* Slate color overrides for borders */
:root[data-theme="dark"] .border-slate-100 {
  border-color: rgba(71, 85, 105, 0.3) !important;
}

:root[data-theme="dark"] .border-violet-100 {
  border-color: rgba(139, 92, 246, 0.25) !important;
}

:root[data-theme="dark"] .border-amber-100 {
  border-color: rgba(251, 191, 36, 0.25) !important;
}

:root[data-theme="dark"] .border-red-100 {
  border-color: rgba(239, 68, 68, 0.25) !important;
}

/* Hover effects for Go Back button */
:root[data-theme="dark"] .hover\:bg-slate-50:hover {
  background-color: rgba(51, 65, 85, 0.4) !important;
}

/* ============================================
   DASHBOARD PROJECT CARDS DARK MODE
   Premium styling for project cards in dark mode
   ============================================ */

/* Main card container - Premium dark glassmorphism */
:root[data-theme="dark"] .bg-white.rounded-2xl.shadow-md.border.border-gray-100 {
  background: linear-gradient(145deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.98)) !important;
  border-color: rgba(71, 85, 105, 0.3) !important;
  box-shadow:
    0 10px 40px -10px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(148, 163, 184, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.03) !important;
}

:root[data-theme="dark"] .bg-white.rounded-2xl.shadow-md.border.border-gray-100:hover {
  box-shadow:
    0 20px 60px -15px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(148, 163, 184, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
}

/* Optimistic loading overlay */
:root[data-theme="dark"] .bg-white\/50.z-20 {
  background-color: rgba(15, 23, 42, 0.7) !important;
}

/* Card content section - Titles and text */
:root[data-theme="dark"] .text-gray-900 {
  color: #f1f5f9 !important;
  /* slate-100 */
}

:root[data-theme="dark"] .text-gray-700 {
  color: #cbd5e1 !important;
  /* slate-300 */
}

:root[data-theme="dark"] .text-gray-600 {
  color: #94a3b8 !important;
  /* slate-400 */
}

:root[data-theme="dark"] .text-gray-500 {
  color: #64748b !important;
  /* slate-500 */
}

/* Progress bar background - make visible in dark mode */
:root[data-theme="dark"] .bg-gray-200.rounded-full.h-2\.5 {
  background-color: rgba(71, 85, 105, 0.5) !important;
}

/* Status badges - High Visibility for Dark Mode */
/* In Progress badge - Enhanced Blue */
:root[data-theme="dark"] .\!bg-blue-50 {
  background: #1e3a8a !important;
  /* blue-900 */
  background-color: #1e3a8a !important;
  color: #ffffff !important;
  /* Pure White */
  border-color: #05214e !important;
  /* blue-500 */
  box-shadow: 0 0 10px rgba(37, 99, 235, 0.4) !important;
}

:root[data-theme="dark"] .\!border-blue-200 {
  border-color: #05214e !important;
}

:root[data-theme="dark"] .text-blue-800 {
  color: #1e3a8a !important;
  /* Pure White */
}

/* Planning badge - Changed to Purple for distinction from Medium Priority */
:root[data-theme="dark"] .bg-gradient-to-r.from-amber-50.to-yellow-50 {
  background: #581c87 !important;
  /* purple-900 */
  background-image: none !important;
  border-color: #7e22ce !important;
  /* purple-700 */
}

:root[data-theme="dark"] .text-amber-700 {
  color: #e9d5ff !important;
  /* purple-200 */
}

:root[data-theme="dark"] .border-amber-200 {
  border-color: #7e22ce !important;
}

/* Completed badge */
:root[data-theme="dark"] .bg-gradient-to-r.from-emerald-50.to-green-50 {
  background: #064e3b !important;
  /* emerald-900 */
  background-image: none !important;
  border-color: #047857 !important;
  /* emerald-700 */
}

:root[data-theme="dark"] .text-emerald-700 {
  color: #6ee7b7 !important;
  /* emerald-300 */
}

:root[data-theme="dark"] .border-emerald-200 {
  border-color: #047857 !important;
}

/* On Hold badge */
:root[data-theme="dark"] .bg-gradient-to-r.from-slate-50.to-gray-50 {
  background: #334155 !important;
  /* slate-700 */
  background-image: none !important;
  border-color: #475569 !important;
  /* slate-600 */
}

:root[data-theme="dark"] .text-slate-700 {
  color: #cbd5e1 !important;
  /* slate-300 */
}

:root[data-theme="dark"] .border-slate-200 {
  border-color: #475569 !important;
}

/* Priority badges - High Visibility for Dark Mode */
/* High Priority - Red */
:root[data-theme="dark"] .bg-red-100.text-red-700,
:root[data-theme="dark"] .rounded-full.bg-red-100 {
  background-color: #7f1d1d !important;
  /* red-900 */
  color: #fca5a5 !important;
  /* red-300 */
  border: 1px solid #991b1b !important;
  /* red-800 */
  box-shadow: 0 4px 12px rgba(127, 29, 29, 0.4) !important;
}

/* Medium Priority - Yellow/Amber */
:root[data-theme="dark"] .bg-yellow-100.text-yellow-700,
:root[data-theme="dark"] .rounded-full.bg-yellow-100 {
  background-color: #78350f !important;
  /* amber-900 */
  color: #fcd34d !important;
  /* amber-300 */
  border: 1px solid #92400e !important;
  /* amber-800 */
  box-shadow: 0 4px 12px rgba(120, 53, 15, 0.4) !important;
}

/* Low Priority - Green */
:root[data-theme="dark"] .bg-green-100.text-green-700,
:root[data-theme="dark"] .rounded-full.bg-green-100 {
  background-color: #14532d !important;
  /* green-900 */
  color: #86efac !important;
  /* green-300 */
  border: 1px solid #166534 !important;
  /* green-800 */
  box-shadow: 0 4px 12px rgba(20, 83, 45, 0.4) !important;
}

/* Due date badge */
:root[data-theme="dark"] .bg-gradient-to-r.from-blue-50.to-cyan-50 {
  background: linear-gradient(to right, rgba(59, 130, 246, 0.15), rgba(6, 182, 212, 0.12)) !important;
}

:root[data-theme="dark"] .text-blue-700 {
  color: #60a5fa !important;
  /* blue-400 */
}

:root[data-theme="dark"] .border-blue-100 {
  border-color: rgba(59, 130, 246, 0.3) !important;
}

/* Time logged & Tasks badge */
:root[data-theme="dark"] .bg-gradient-to-r.from-green-50.to-emerald-50 {
  background: linear-gradient(to right, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.12)) !important;
}

:root[data-theme="dark"] .text-green-700 {
  color: #4ade80 !important;
  /* green-400 */
}

:root[data-theme="dark"] .border-green-100 {
  border-color: rgba(34, 197, 94, 0.3) !important;
}

/* Department section border */
:root[data-theme="dark"] .border-t.border-gray-100 {
  border-color: rgba(71, 85, 105, 0.25) !important;
}

/* Department/Manager text */
:root[data-theme="dark"] .text-xs.text-gray-500.font-medium {
  color: #94a3b8 !important;
}

/* Actions menu button */
:root[data-theme="dark"] .bg-white\/90.backdrop-blur-md.rounded-2xl {
  background-color: rgba(30, 41, 59, 0.9) !important;
  border-color: rgba(71, 85, 105, 0.4) !important;
}

:root[data-theme="dark"] .bg-white\/90.backdrop-blur-md.rounded-2xl:hover {
  background-color: rgba(51, 65, 85, 0.95) !important;
}

/* Actions dropdown menu */
:root[data-theme="dark"] .bg-white\/95.backdrop-blur-xl.rounded-2xl.shadow-2xl {
  background-color: rgba(30, 41, 59, 0.98) !important;
  border-color: rgba(71, 85, 105, 0.3) !important;
}

/* Menu separator */
:root[data-theme="dark"] .border-t.border-gray-200\/50 {
  border-color: rgba(71, 85, 105, 0.4) !important;
}

/* Shimmer loading skeleton in dark mode */
:root[data-theme="dark"] .bg-gradient-to-r.from-gray-200.via-gray-100.to-gray-200 {
  background: linear-gradient(to right, rgba(51, 65, 85, 0.5), rgba(71, 85, 105, 0.3), rgba(51, 65, 85, 0.5)) !important;
}

/* Card hover overlay */
:root[data-theme="dark"] .bg-white\/10.backdrop-blur-\[1px\] {
  background-color: rgba(255, 255, 255, 0.03) !important;
}

/* Featured badge - keep vibrant */
:root[data-theme="dark"] .bg-gradient-to-r.from-yellow-400.to-orange-500 {
  box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3) !important;
}

/* Completion indicator */
:root[data-theme="dark"] .bg-gradient-to-br.from-green-400.to-emerald-500 {
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4) !important;
}

/* Icon colors for meta badges */
:root[data-theme="dark"] .text-blue-600 {
  color: #60a5fa !important;
}

:root[data-theme="dark"] .text-emerald-600 {
  color: #34d399 !important;
}

:root[data-theme="dark"] .text-amber-600 {
  color: #fbbf24 !important;
}

:root[data-theme="dark"] .text-slate-600 {
  color: #94a3b8 !important;
}

/* Animated orbs - enhanced glow in dark */
:root[data-theme="dark"] .blur-\[60px\],
:root[data-theme="dark"] .blur-\[70px\] {
  opacity: 0.25 !important;
}

/* ==================================================================================
   FINAL STATUS BADGE OVERRIDES - USING ROBUST SELECTORS
   These rely on the data-status attribute added to ProjectCard.jsx
   ================================================================================== */

/* In Progress - High Contrast Dark Mode */
:root[data-theme="dark"] .status-badge[data-status="in-progress"] {
  background: #1e3a8a !important;
  /* blue-900 */
  background-color: #1e3a8a !important;
  color: #ffffff !important;
  /* Pure White */
  border-color: #3b82f6 !important;
  /* blue-500 */
  box-shadow: 0 0 12px rgba(37, 99, 235, 0.5) !important;
}

/* Planning - Purple Theme */
:root[data-theme="dark"] .status-badge[data-status="planning"] {
  background: #581c87 !important;
  /* purple-900 */
  background-color: #581c87 !important;
  color: #e9d5ff !important;
  /* purple-200 */
  border-color: #7e22ce !important;
  /* purple-700 */
  background-image: none !important;
  box-shadow: 0 0 10px rgba(126, 34, 206, 0.4) !important;
}

/* Completed - Emerald Theme */
:root[data-theme="dark"] .status-badge[data-status="completed"] {
  background: #064e3b !important;
  /* emerald-900 */
  background-color: #064e3b !important;
  color: #6ee7b7 !important;
  /* emerald-300 */
  border-color: #047857 !important;
  /* emerald-700 */
  background-image: none !important;
  box-shadow: 0 0 10px rgba(4, 120, 87, 0.4) !important;
}

/* On Hold - Slate Theme */
:root[data-theme="dark"] .status-badge[data-status="on-hold"] {
  background: #1e293b !important;
  /* slate-800 */
  background-color: #1e293b !important;
  color: #cbd5e1 !important;
  /* slate-300 */
  border-color: #475569 !important;
  /* slate-600 */
  background-image: none !important;
}

/* ============================================
   LOGO STYLING - LIGHT AND DARK MODE
   ============================================ */

/* Logo image styling for light mode */
:root[data-theme="light"] img[alt="FlowTask"],
:root[data-theme="light"] img[alt="Logo"] {
  filter: brightness(1) contrast(1) !important;
  transition: filter 300ms ease-in-out !important;
}

/* Logo image styling for dark mode - enhanced visibility */
:root[data-theme="dark"] img[alt="FlowTask"],
:root[data-theme="dark"] img[alt="Logo"] {
  filter: brightness(1.15) contrast(1.1) !important;
  transition: filter 300ms ease-in-out !important;
}

/* Logo hover effects in light mode */
:root[data-theme="light"] img[alt="FlowTask"]:hover,
:root[data-theme="light"] img[alt="Logo"]:hover {
  filter: brightness(1.05) contrast(1.05) !important;
}

/* Logo hover effects in dark mode */
:root[data-theme="dark"] img[alt="FlowTask"]:hover,
:root[data-theme="dark"] img[alt="Logo"]:hover {
  filter: brightness(1.25) contrast(1.15) !important;
}

/* Footer logo styling - light mode */
.logo-image {
  filter: drop-shadow(0 0 15px rgba(192, 132, 252, 0.6)) !important;
  transition: filter 300ms ease !important;
}

:root[data-theme="light"] .logo-image {
  filter: drop-shadow(0 0 15px rgba(192, 132, 252, 0.6)) brightness(1) !important;
}

/* Footer logo styling - dark mode with enhanced brightness and glow */
:root[data-theme="dark"] .logo-image {
  filter: brightness(1.15) contrast(1.1) drop-shadow(0 0 20px rgba(197, 217, 255, 0.8)) !important;
}

:root[data-theme="dark"] .logo-image:hover {
  filter: brightness(1.3) contrast(1.2) drop-shadow(0 0 30px rgba(197, 217, 255, 1)) !important;
}

/* Logo SVG specific styles for dark mode */
:root[data-theme="dark"] svg[alt="FlowTask"] {
  filter: brightness(1.1) !important;
}

/* Ensure logo text remains sharp and visible */
:root[data-theme="dark"] img,
:root[data-theme="dark"] svg {
  image-rendering: crisp-edges !important;
  -webkit-font-smoothing: antialiased !important;
}

:root[data-theme="light"] img,
:root[data-theme="light"] svg {
  image-rendering: auto !important;
}