# ===========================================
# FlowTask Backend Environment Variables
# ===========================================

# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB
MONGO_URI=mongodb://localhost:27017/flowtask

# JWT
JWT_SECRET=your-jwt-secret-key

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5173

# Email Configuration (Nodemailer)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Cloudinary (Image uploads)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Web Push (Push notifications)
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key

# ===========================================
# SLACK INTEGRATION CONFIGURATION
# ===========================================

# Slack App Credentials (from https://api.slack.com/apps)
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_SIGNING_SECRET=your-slack-signing-secret

# OAuth Redirect URL (must match Slack app settings)
SLACK_REDIRECT_URI=http://localhost:5000/api/slack/oauth/callback

# Encryption key for storing Slack tokens securely (32 bytes, hex encoded)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SLACK_TOKEN_ENCRYPTION_KEY=your-64-char-hex-encryption-key

# ===========================================
# SLACK APP SETUP INSTRUCTIONS
# ===========================================
# 
# 1. Create a new Slack app at https://api.slack.com/apps
# 
# 2. Under "OAuth & Permissions", add these scopes:
#    Bot Token Scopes:
#    - chat:write (Send messages)
#    - users:read (Read user info)
#    - users:read.email (Read user emails)
#    - im:write (Open DM channels)
#    - reactions:write (Add reactions)
#    - files:read (Read files)
#    - commands (Slash commands)
#
# 3. Under "Interactivity & Shortcuts":
#    - Enable interactivity
#    - Request URL: https://your-domain.com/api/slack/interactive
#    - Options Load URL: https://your-domain.com/api/slack/options
#
# 4. Under "Slash Commands", create these commands:
#    - /mytasks → https://your-domain.com/api/slack/commands
#    - /overdue → https://your-domain.com/api/slack/commands
#    - /task → https://your-domain.com/api/slack/commands
#    - /project → https://your-domain.com/api/slack/commands
#    - /flowtask → https://your-domain.com/api/slack/commands
#
# 5. Under "Event Subscriptions":
#    - Enable events
#    - Request URL: https://your-domain.com/api/slack/events
#    - Subscribe to bot events:
#      - app_home_opened
#      - app_uninstalled
#      - tokens_revoked
#
# 6. Under "App Home":
#    - Enable Home Tab
#    - Enable Messages Tab (optional)
#
# 7. Install to workspace and copy the credentials
#
# ===========================================
